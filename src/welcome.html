<!--
  ~ Copyright 2015-2016 OpenCB
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="jso-styles.html">

<dom-module id="welcome-web">

    <template>
        <style is="custom-style" include="jso-styles"></style>
        <style>
            .center {
                text-align: justify;
                font-size: 18px;
                color: #797979;
            }

            .right {
                width: 20%;
            }
        </style>

        <!-- This is where main application is rendered -->
        <div class="center col-md-8">
            <div style="text-align: center">
                <br>
                <span style="font-size:50px; text-align: center">The Human Genetic Variation Archive (HGVA)</span>
                <br><br><br>
                <input type="text" class="form-control" id="welcomeSearchTextBox" style="text-align: center; height: 45px"
                       placeholder="Search for a gene, transcript, variant, multi-allelic variant, region, GO term or HPO term" on-keyup="triggerSearch">
                <p>Example: BRCA2, ENST00000342992, rs666, 10:15097577:G:C, 1:1-100000, GO:0000001, HP:0000001</p>
            </div>
            <!--<h2>Overview</h2>-->
            <br>
            <p>
                <b>The Human Genomic Variation Archive (HGVA)</b> is an open access genetic variation resource that integrates
                all variants from key world-wide reference projects, but also added-value information such as basic
                variant annotation, population frequencies, protein effect predictions, variant-associated phenotyes,
                etc. HGVA currently hosts about 300GB of data from 13 different studies describing more than 200
                million variants. HGVA is not a mere data archive, but a big data provider that enables users to
                efficiently query, filter and retrieve relevant information from its knowledge-base, either from a
                visual web-interface or programatically.
            </p>
            <br>
            <h4>Note:</h4>
            <p style="font-size:14px">
                HGVA web application makes an intensive use of the HTML5 standard and other cutting-edge web technologies such as Web Components,
                so only modern web browsers are fully supported, these include Chrome 49+, Firefox 45+, Microsoft Edge 14+, Safari 10+ and Opera 36+.
                </p>
            <br>
            <br>
            <br>
            <img src="images/opencb-logo.png" width="220">
        </div>
    </template>

    <script>
        Polymer({
            is: 'welcome-web',
            properties: {
                opencgaClient: {
                    type: Object
                },
                host: {
                    type: String,
                    value: "http://bioinfodev.hpc.cam.ac.uk/hgva"
                },
                userId: {
                    type: String,
                    value: ""
                },
                project: {
                    type: String,
                    value: ""
                },
                study: {
                    type: Object
                }
            },
            triggerSearch: function (e) {
                if (e.keyCode == '13') {
                    // fire according to the feature - gene, variant etc.
                    this.fire("search", {value: this.$.welcomeSearchTextBox.value});
                    this.$.welcomeSearchTextBox.value = "";
                    $('.content').hide();
                }
            }
        });
    </script>
</dom-module>
